# [Home](../README.md)

###  运行时数据区域
<div align=center> <img src="../images/jvm3.png" width="600" /> </div>

- 程序计数器
	> 内存空间小，线程私有。字节码解释器工作是就是通过改变这个计数器的值来选取下一条需要执行指令的字节码指令，分支、循环、跳转、异常处理、线程恢复等基础功能都需要依赖计数器完成

- Java 虚拟机栈
	> 线程私有，生命周期和线程一致。描述的是 Java 方法执行的内存模型：每个方法在执行时都会床创建一个栈帧(Stack Frame)用于存储局部变量表、操作数栈、动态链接、方法出口等信息。每一个方法从调用直至执行结束，就对应着一个栈帧从虚拟机栈中入栈到出栈的过程。

- 本地方法栈
	> 区别于 Java 虚拟机栈的是，Java 虚拟机栈为虚拟机执行 Java 方法(也就是字节码)服务，而本地方法栈则为虚拟机使用到的 Native 方法服务。也会有 StackOverflowError 和 OutOfMemoryError 异常。

- Java 堆
	> 对于绝大多数应用来说，这块区域是 JVM 所管理的内存中最大的一块。线程共享，主要是存放对象实例和数组。内部会划分出多个线程私有的分配缓冲区(Thread Local Allocation Buffer, TLAB)。可以位于物理上不连续的空间，但是逻辑上要连续。

- 方法区
	> 属于共享内存区域，存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。

- 运行时常量池
	> 属于方法区一部分，用于存放编译期生成的各种字面量和符号引用。编译器和运行期(String 的 intern() )都可以将常量放入池中。内存有限，无法申请时抛出 OutOfMemoryError。

- 直接内存
	> 非虚拟机运行时数据区的部分

![jvm](../images/jvm2.png)
![jvm](../images/jvm1.png)

### 类的加载机制

### 内存溢出

### 创建对象

### 垃圾回收

- 根搜索算法 (GC Roots)
	> 通过一系列名为 “GC Roots” 的对象作为其实点，从这些节点向下搜索，搜索所走过的路径称为引用链 (Reference Chain)，当一个对象到GC Roots没有任何引用链相连时，则证明此对象是不可用的。

	> Java中可以作为GC Roots的对象：
	> - 虚拟机栈（栈帧中的本地变量表）中引用的对象
	> - 方法区中的类静态属性引用链
	> - 方法区中的常量引用的对象
	> - 本地方法栈中JNI（即一般说的native方法）的引用对象

- 标记-清除算法

- 复制算法

- 标记-整理算法

- 分代收集算法

